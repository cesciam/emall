<app-header></app-header>

<div class="container">
  <div id="login" [hidden]="section != 'login'">
    <div class="row justify-content-lg-center justify-content-md-center">
      <div class="col-lg-6">
        <div *ngIf="submitted && error!=null" class="alert alert-danger" role="alert">
          <strong>{{error.message}}</strong>
        </div>

        <form [formGroup]="loginForm" name="login" id="login" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="Correo">Email</label>
            <input type="email"
                   class="form-control"
                   id="Correo"
                   placeholder="usuario@dominio.com"
                   formControlName="Correo"
                   required
                   [ngClass]="{ 'is-invalid': submitted && f.Correo.errors }">
            <div *ngIf="submitted && f.Correo.errors" class="invalid-feedback">
              <div *ngIf="f.Correo.errors.required">Email es requerido</div>
              <div *ngIf="f.Correo.errors.email">Email invalido</div>
            </div>
          </div>
          <div class="form-group">
            <label for="contrasena">Password</label>
            <input type="password"
                   class="form-control"
                   id="contrasena"
                   formControlName="Contrasena"
                   required
                   [ngClass]="{ 'is-invalid': submitted && f.Contrasena?.errors }">
            <div *ngIf="submitted && f.Contrasena?.errors" class="invalid-feedback">
              <div *ngIf="f.Contrasena?.errors.required">Contraseña es requerida</div>
            </div>
          </div>

          <div class="form-group">
            <button type="submit" class="site-btn" [disabled]="processingRequest">Iniciar Sesión</button>
            <a (click)="changeSection('reset')">¿Olvidó su contraseña?</a>
          </div>
        </form>
      </div>
    </div>
    <div class="row justify-content-sm-center justify-content-lg-center justify-content-md-center">
      <p>¿No tienes una cuenta aun? <a (click)="changeSection('register')">Registrate aqui</a></p>
    </div>
  </div>

  <div id="Register" [hidden]="section != 'register'">
    <div class="row justify-content-lg-center justify-content-md-center">
      <div class="col-lg-12">
        <app-agregar-usuario integrarCon="pagina"></app-agregar-usuario>
      </div>
    </div>

    <div class="row justify-content-sm-center justify-content-lg-center justify-content-md-center">
      <p>¿Ya tienes una cuenta? <a (click)="changeSection('login')">Inicia sesion aqui</a></p>
    </div>
  </div>

  <div id="Reset" [hidden]="section != 'reset'">
    <div class="row justify-content-lg-center justify-content-md-center">
      <div class="col-lg-12">
        Reset password
        <p>¿No tienes una cuenta aun? <a (click)="changeSection('register')">Registrate aqui</a></p>
      </div>
    </div>
  </div>

</div>

<app-footer></app-footer>
